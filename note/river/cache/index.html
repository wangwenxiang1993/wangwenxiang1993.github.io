<!doctype html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="shortcut icon" href="/img/favicon.ico"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="//cdn.bootcss.com/nprogress/0.2.0/nprogress.min.css" rel="stylesheet"/>
    <link rel="stylesheet" type="text/css" href="/css/style.css"/>
    <link rel="stylesheet" type="text/css" href="/css/font-awesome.min.css"/>
    <script src="/js/jquery-1.7.1.min.js"></script>
    <script src="//cdn.bootcss.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="//cdn.bootcss.com/nprogress/0.2.0/nprogress.min.js"></script>
    <title>winx&#39;blog</title>
</head>
<body>
<div class="animated" id="info-min">
    <div id="guide">
    <div class="guide-button " _href="/tags/index/">首页</div>
    <div class="guide-button " _href="/tags/tech/">技术</div>
    <!--<div class="guide-button " _href="/tags/life/">生活</div>-->
    <div class="guide-button " _href="/categories/read/">阅读</div>
    <img src="/img/photo.png">
</div>
</div>
<div id="wrap">
    
  
    
      <div id="big-title" style="color: #666">
    

  <div id="title-name">缓存</div><br>
  <div id="something">2017/06/05</div>
</div>
  <section id="content-specific">
    <article class="post">
        <div class="con"><h5 id="cache的功能显而易见，是对目标方法结果的缓存，在缓存结果有效期内，新的调用并不会去执行目标方法，而是直接拿缓存结果。并且用户可以自定义缓存的key（从入参中选取一部分参数，或者是某个对象中的某些属性来作为缓存的key）。"><a href="#cache的功能显而易见，是对目标方法结果的缓存，在缓存结果有效期内，新的调用并不会去执行目标方法，而是直接拿缓存结果。并且用户可以自定义缓存的key（从入参中选取一部分参数，或者是某个对象中的某些属性来作为缓存的key）。" class="headerlink" title="cache的功能显而易见，是对目标方法结果的缓存，在缓存结果有效期内，新的调用并不会去执行目标方法，而是直接拿缓存结果。并且用户可以自定义缓存的key（从入参中选取一部分参数，或者是某个对象中的某些属性来作为缓存的key）。"></a>cache的功能显而易见，是对目标方法结果的缓存，在缓存结果有效期内，新的调用并不会去执行目标方法，而是直接拿缓存结果。并且用户可以自定义缓存的key（从入参中选取一部分参数，或者是某个对象中的某些属性来作为缓存的key）。</h5><a id="more"></a>
<h3 id="实例代码"><a href="#实例代码" class="headerlink" title="实例代码"></a>实例代码</h3><h4 id="目标方法添加cache注解"><a href="#目标方法添加cache注解" class="headerlink" title="目标方法添加cache注解"></a>目标方法添加<code>cache</code>注解</h4><pre><code class="lang-java">@Cache(maxSize = 2, timeOut = 1, timeUnit = TimeUnit.MINUTES)
public String cache(String param){
    System.out.println(&quot;cache param : &quot; + param);
    return param + &quot; success&quot;;
}
</code></pre>
<h4 id="获取代理对象实例，调用目标方法"><a href="#获取代理对象实例，调用目标方法" class="headerlink" title="获取代理对象实例，调用目标方法"></a>获取代理对象实例，调用目标方法</h4><pre><code class="lang-java">final CrudServiceImpl proxy = ProxyFactory.getSingleProxy(CrudServiceImpl.class);
for (int i = 0; i &lt; 10; i ++){
    System.out.println(proxy.cache(&quot;cache key&quot;));
}
</code></pre>
<h4 id="执行结果"><a href="#执行结果" class="headerlink" title="执行结果"></a>执行结果</h4><pre><code class="lang-none">cache param : cache key
cache key success
cache key success
cache key success
cache key success
cache key success
cache key success
cache key success
cache key success
cache key success
cache key success
</code></pre>
<h3 id="代码分析"><a href="#代码分析" class="headerlink" title="代码分析"></a>代码分析</h3><h4 id="缓存大法好，但是也有一些局限性，说一说还能实现的一些细节点："><a href="#缓存大法好，但是也有一些局限性，说一说还能实现的一些细节点：" class="headerlink" title="缓存大法好，但是也有一些局限性，说一说还能实现的一些细节点："></a>缓存大法好，但是也有一些局限性，说一说还能实现的一些细节点：</h4><ol>
<li>目前代理对象还是需要手动的去获取，这个在后期接入spring逻辑后，可以使用spring注入。</li>
</ol>
</div>
    </article>
</section>

<div class="clear"></div>



    <footer id="footer">
  <div class="foot">
    <!-- <a id="gotop">TOP</a> -->
    <!-- <div id="copyright">Copyright &copy; 2016 <a href="#" target="_blank">WangWenXiang</a><br>
       Power by <a href="https://github.com/winx402" target="_blank">Github Pages</a> |
      <a href="https://hexo.io/" target="_blank">HEXO</a></div> -->
      <div id="copyright">还没想好要写什么</div>
  </div>
</footer>

</div>
<div class="img-view">
    <span><img src="/img/guide.jpeg"></span>
</div>
<script type="text/javascript" src="/js/base.js"></script>
<script type="text/javascript" async
            src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
<link rel="stylesheet" href="//cdn.bootcss.com/highlight.js/9.2.0/styles/github.min.css">
<script src="//cdn.bootcss.com/highlight.js/9.2.0/highlight.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script>
</body>
</html>
