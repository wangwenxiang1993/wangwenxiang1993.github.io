<!doctype html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="shortcut icon" href="/img/favicon.ico"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="//cdn.bootcss.com/nprogress/0.2.0/nprogress.min.css" rel="stylesheet"/>
    <link rel="stylesheet" type="text/css" href="/css/style.css"/>
    <link rel="stylesheet" type="text/css" href="/css/font-awesome.min.css"/>
    <script src="/js/jquery-1.7.1.min.js"></script>
    <script src="//cdn.bootcss.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="//cdn.bootcss.com/nprogress/0.2.0/nprogress.min.js"></script>
    <title>winx&#39;blog</title>
</head>
<body>
<div class="animated" id="info-min">
    <div id="guide">
    <div class="guide-button " _href="/tags/index/">首页</div>
    <div class="guide-button " _href="/tags/tech/">技术</div>
    <!--<div class="guide-button " _href="/tags/life/">生活</div>-->
    <div class="guide-button " _href="/categories/read/">阅读</div>
    <img src="/img/photo.png">
</div>
</div>
<div id="wrap">
    
  
    
      <div id="big-title" style="color: #666">
    

  <div id="title-name">判断两个链表是否相交</div><br>
  <div id="something">2017/02/25</div>
</div>
  <section id="content-specific">
    <article class="post">
        <div class="con"><h2 id="题目要求："><a href="#题目要求：" class="headerlink" title="题目要求："></a>题目要求：</h2><h5 id="给出俩个单向链表的头指针，比如h1，h2，判断这俩个链表是否相交。"><a href="#给出俩个单向链表的头指针，比如h1，h2，判断这俩个链表是否相交。" class="headerlink" title="给出俩个单向链表的头指针，比如h1，h2，判断这俩个链表是否相交。"></a>给出俩个单向链表的头指针，比如h1，h2，判断这俩个链表是否相交。</h5><h5 id="这个题目可以扩展成很多问题，每个子问题都值得学习。"><a href="#这个题目可以扩展成很多问题，每个子问题都值得学习。" class="headerlink" title="这个题目可以扩展成很多问题，每个子问题都值得学习。"></a>这个题目可以扩展成很多问题，每个子问题都值得学习。</h5><a id="more"></a>
<h2 id="题目扩展（均为单链表）："><a href="#题目扩展（均为单链表）：" class="headerlink" title="题目扩展（均为单链表）："></a>题目扩展（均为单链表）：</h2><ol>
<li>判断这俩个链表是否相交（无环）</li>
<li>判断链表是否有环</li>
<li>如何知道环的长度？</li>
<li>如何找出环的连接点在哪里？</li>
<li>带环链表的长度是多少？</li>
<li>链表有环，判断相交</li>
<li>判断两个链表相交的第一个节点<h5 id="下面我们一个一个的来解决这些问题"><a href="#下面我们一个一个的来解决这些问题" class="headerlink" title="下面我们一个一个的来解决这些问题"></a>下面我们一个一个的来解决这些问题</h5></li>
</ol>
<h3 id="问题1：判断这俩个链表是否相交（无环）"><a href="#问题1：判断这俩个链表是否相交（无环）" class="headerlink" title="问题1：判断这俩个链表是否相交（无环）"></a>问题1：判断这俩个链表是否相交（无环）</h3><h5 id="两个无环链表的相交问题，如果两个链表相交，则他们一定存在公共节点，且公共节点之后的节点全部都是相交的。则他们的结构为："><a href="#两个无环链表的相交问题，如果两个链表相交，则他们一定存在公共节点，且公共节点之后的节点全部都是相交的。则他们的结构为：" class="headerlink" title="两个无环链表的相交问题，如果两个链表相交，则他们一定存在公共节点，且公共节点之后的节点全部都是相交的。则他们的结构为："></a>两个无环链表的相交问题，如果两个链表相交，则他们一定存在公共节点，且公共节点之后的节点全部都是相交的。则他们的结构为：</h5><p><img src="/img/arithmetic/linked.jpg" alt="二元查找树"></p>
<h5 id="如果两个链表相交，则他们的尾节点一定是同一个节点，所以可以直接对比两个链表的尾部节点是否相。时间复杂度为两个链表的长度之和O-m-n-。"><a href="#如果两个链表相交，则他们的尾节点一定是同一个节点，所以可以直接对比两个链表的尾部节点是否相。时间复杂度为两个链表的长度之和O-m-n-。" class="headerlink" title="如果两个链表相交，则他们的尾节点一定是同一个节点，所以可以直接对比两个链表的尾部节点是否相。时间复杂度为两个链表的长度之和O(m+n)。"></a>如果两个链表相交，则他们的尾节点一定是同一个节点，所以可以直接对比两个链表的尾部节点是否相。时间复杂度为两个链表的长度之和O(m+n)。</h5><h5 id="这种解法比较简单，只要想到最后一个节点相等就可以，后面还会有一些其他的解法介绍。"><a href="#这种解法比较简单，只要想到最后一个节点相等就可以，后面还会有一些其他的解法介绍。" class="headerlink" title="这种解法比较简单，只要想到最后一个节点相等就可以，后面还会有一些其他的解法介绍。"></a>这种解法比较简单，只要想到最后一个节点相等就可以，后面还会有一些其他的解法介绍。</h5><h3 id="问题2：判断链表是否有环"><a href="#问题2：判断链表是否有环" class="headerlink" title="问题2：判断链表是否有环"></a>问题2：判断链表是否有环</h3><h5 id="对于这个问题，可以使用一种追赶的方法。设定两个指针slow、fast，从头指针开始，每次分别前进1步、2步。如存在环，则两者相遇；如不存在环，fast遇到NULL退出。"><a href="#对于这个问题，可以使用一种追赶的方法。设定两个指针slow、fast，从头指针开始，每次分别前进1步、2步。如存在环，则两者相遇；如不存在环，fast遇到NULL退出。" class="headerlink" title="对于这个问题，可以使用一种追赶的方法。设定两个指针slow、fast，从头指针开始，每次分别前进1步、2步。如存在环，则两者相遇；如不存在环，fast遇到NULL退出。"></a>对于这个问题，可以使用一种追赶的方法。设定两个指针slow、fast，从头指针开始，每次分别前进1步、2步。如存在环，则两者相遇；如不存在环，fast遇到NULL退出。</h5><h5 id="这个过程比较好理解，如果存在环，所以fast指针则会在环内循环，直至slow指针进入环内，并且追赶上slow指针。因为fast每次两部，slow每次一步，试验后发现fast指针不会跳过slow指针，因此如果有换，则必定会在一个节点相交。"><a href="#这个过程比较好理解，如果存在环，所以fast指针则会在环内循环，直至slow指针进入环内，并且追赶上slow指针。因为fast每次两部，slow每次一步，试验后发现fast指针不会跳过slow指针，因此如果有换，则必定会在一个节点相交。" class="headerlink" title="这个过程比较好理解，如果存在环，所以fast指针则会在环内循环，直至slow指针进入环内，并且追赶上slow指针。因为fast每次两部，slow每次一步，试验后发现fast指针不会跳过slow指针，因此如果有换，则必定会在一个节点相交。"></a>这个过程比较好理解，如果存在环，所以fast指针则会在环内循环，直至slow指针进入环内，并且追赶上slow指针。因为fast每次两部，slow每次一步，试验后发现fast指针不会跳过slow指针，因此如果有换，则必定会在一个节点相交。</h5><h3 id="问题3：如何知道环的长度？"><a href="#问题3：如何知道环的长度？" class="headerlink" title="问题3：如何知道环的长度？"></a>问题3：如何知道环的长度？</h3><h5 id="基于上一步，我们已经判断一个链表是否有环，如果有环的话，如何判断环的长度呢。"><a href="#基于上一步，我们已经判断一个链表是否有环，如果有环的话，如何判断环的长度呢。" class="headerlink" title="基于上一步，我们已经判断一个链表是否有环，如果有环的话，如何判断环的长度呢。"></a>基于上一步，我们已经判断一个链表是否有环，如果有环的话，如何判断环的长度呢。</h5><h5 id="还是一样的方法，在上一个问题中，fast和slow将相交于环内一点，fast的速度是slow的两倍，则只需要fast和slow继续以原速度前进，当他们再次相交时，slow所走了步数为环的长度。"><a href="#还是一样的方法，在上一个问题中，fast和slow将相交于环内一点，fast的速度是slow的两倍，则只需要fast和slow继续以原速度前进，当他们再次相交时，slow所走了步数为环的长度。" class="headerlink" title="还是一样的方法，在上一个问题中，fast和slow将相交于环内一点，fast的速度是slow的两倍，则只需要fast和slow继续以原速度前进，当他们再次相交时，slow所走了步数为环的长度。"></a>还是一样的方法，在上一个问题中，fast和slow将相交于环内一点，fast的速度是slow的两倍，则只需要fast和slow继续以原速度前进，当他们再次相交时，slow所走了步数为环的长度。</h5><h3 id="问题4：如何找出环的连接点在哪里？"><a href="#问题4：如何找出环的连接点在哪里？" class="headerlink" title="问题4：如何找出环的连接点在哪里？"></a>问题4：如何找出环的连接点在哪里？</h3><h5 id="相对于上面两个问题，这个问题相对更复杂一些。回到问题”判断链表是否有环”。"><a href="#相对于上面两个问题，这个问题相对更复杂一些。回到问题”判断链表是否有环”。" class="headerlink" title="相对于上面两个问题，这个问题相对更复杂一些。回到问题”判断链表是否有环”。"></a>相对于上面两个问题，这个问题相对更复杂一些。回到问题”判断链表是否有环”。</h5><h5 id="当fast指针和slow指针相交时，slow指针必定未走完一圈，因为在slow进入环入口时，fast指针已经在环内，这就成了一个fast追赶slow的问题，除了fast和slow已经相交，否则fast追赶上slow，slow用不了一周。因此此时slow还未第二次经过入口节点。"><a href="#当fast指针和slow指针相交时，slow指针必定未走完一圈，因为在slow进入环入口时，fast指针已经在环内，这就成了一个fast追赶slow的问题，除了fast和slow已经相交，否则fast追赶上slow，slow用不了一周。因此此时slow还未第二次经过入口节点。" class="headerlink" title="当fast指针和slow指针相交时，slow指针必定未走完一圈，因为在slow进入环入口时，fast指针已经在环内，这就成了一个fast追赶slow的问题，除了fast和slow已经相交，否则fast追赶上slow，slow用不了一周。因此此时slow还未第二次经过入口节点。"></a>当fast指针和slow指针相交时，slow指针必定未走完一圈，因为在slow进入环入口时，fast指针已经在环内，这就成了一个fast追赶slow的问题，除了fast和slow已经相交，否则fast追赶上slow，slow用不了一周。因此此时slow还未第二次经过入口节点。</h5><ol>
<li>假设slow进过的节点数量为r，则fast为2r</li>
<li>假设环的长度为s，因为slow和fast已经在同一点，而fast比slow多走了r个节点，所以r = ns。n为常数，大于等于1，代表的是fast绕环的次数。</li>
<li>假设头节点为点a，入口节点为b，fast和slow相遇节点为c，则ac = r = ns = ab + bc；bc + cb = s；（bc表示从入口节点至相遇节点，cb表示从相遇节点至入口节点） ab = r - bc；所以，ab - cb = (n-1)s；<br><img src="/img/arithmetic/linked2.jpg" alt="单链表带环"><h5 id="因此，从头节点a和相遇节点c重新开始走，第一次相遇的节点为入口节点b。从a节点走的指针步数为1，从c节点走的指针步数则大于等于1-因为大于1时，无非就是n大一些，多走了几圈。"><a href="#因此，从头节点a和相遇节点c重新开始走，第一次相遇的节点为入口节点b。从a节点走的指针步数为1，从c节点走的指针步数则大于等于1-因为大于1时，无非就是n大一些，多走了几圈。" class="headerlink" title="因此，从头节点a和相遇节点c重新开始走，第一次相遇的节点为入口节点b。从a节点走的指针步数为1，从c节点走的指针步数则大于等于1,因为大于1时，无非就是n大一些，多走了几圈。"></a>因此，从头节点a和相遇节点c重新开始走，第一次相遇的节点为入口节点b。从a节点走的指针步数为1，从c节点走的指针步数则大于等于1,因为大于1时，无非就是n大一些，多走了几圈。</h5></li>
</ol>
<h3 id="问题5：带环链表的长度是多少？"><a href="#问题5：带环链表的长度是多少？" class="headerlink" title="问题5：带环链表的长度是多少？"></a>问题5：带环链表的长度是多少？</h3><h5 id="问题4可以求出头节点到入口节点的长度，加上问题3的环长度，等于链表长度。或者问题4求出入口节点，以及问题2的相遇节点。都可以求出链表长度。"><a href="#问题4可以求出头节点到入口节点的长度，加上问题3的环长度，等于链表长度。或者问题4求出入口节点，以及问题2的相遇节点。都可以求出链表长度。" class="headerlink" title="问题4可以求出头节点到入口节点的长度，加上问题3的环长度，等于链表长度。或者问题4求出入口节点，以及问题2的相遇节点。都可以求出链表长度。"></a>问题4可以求出头节点到入口节点的长度，加上问题3的环长度，等于链表长度。或者问题4求出入口节点，以及问题2的相遇节点。都可以求出链表长度。</h5><h3 id="问题6：链表有环，判断相交"><a href="#问题6：链表有环，判断相交" class="headerlink" title="问题6：链表有环，判断相交"></a>问题6：链表有环，判断相交</h3><h5 id="一个链表有环，一个链表无环的情况下。两个链表不可能相交。"><a href="#一个链表有环，一个链表无环的情况下。两个链表不可能相交。" class="headerlink" title="一个链表有环，一个链表无环的情况下。两个链表不可能相交。"></a>一个链表有环，一个链表无环的情况下。两个链表不可能相交。</h5><h5 id="两个链表均有环，则两个链表的环一定是共有的。则可以判断一个链表的相遇点，相遇点一定处于环内，再判断该点是否存在于另一个链表当中。"><a href="#两个链表均有环，则两个链表的环一定是共有的。则可以判断一个链表的相遇点，相遇点一定处于环内，再判断该点是否存在于另一个链表当中。" class="headerlink" title="两个链表均有环，则两个链表的环一定是共有的。则可以判断一个链表的相遇点，相遇点一定处于环内，再判断该点是否存在于另一个链表当中。"></a>两个链表均有环，则两个链表的环一定是共有的。则可以判断一个链表的相遇点，相遇点一定处于环内，再判断该点是否存在于另一个链表当中。</h5></div>
    </article>
</section>

<div class="clear"></div>



    <footer id="footer">
  <div class="foot">
    <!-- <a id="gotop">TOP</a> -->
    <!-- <div id="copyright">Copyright &copy; 2016 <a href="#" target="_blank">WangWenXiang</a><br>
       Power by <a href="https://github.com/winx402" target="_blank">Github Pages</a> |
      <a href="https://hexo.io/" target="_blank">HEXO</a></div> -->
      <div id="copyright">还没想好要写什么</div>
  </div>
</footer>

</div>
<div class="img-view">
    <span><img src="/img/guide.jpeg"></span>
</div>
<script type="text/javascript" src="/js/base.js"></script>
<script type="text/javascript" async
            src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
<link rel="stylesheet" href="//cdn.bootcss.com/highlight.js/9.2.0/styles/github.min.css">
<script src="//cdn.bootcss.com/highlight.js/9.2.0/highlight.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script>
</body>
</html>
